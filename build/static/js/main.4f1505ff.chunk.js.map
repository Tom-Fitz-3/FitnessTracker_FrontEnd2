{"version":3,"sources":["api/token.js","components/Header.js","api/index.js","components/Login.js","components/Register.js","components/Activities.js","components/Routines.js","index.js"],"names":["SECURE_TOKEN","localStorage","getItem","token","setItem","removeItem","Header","isLoggedIn","setSavedToken","history","useHistory","className","to","onClick","event","preventDefault","handleToken","push","makeRequest","path","method","data","a","defaultHeaders","options","headers","body","JSON","stringify","fetch","response","json","responseData","Login","useState","username","password","user","setUser","userLogin","api","console","error","handleInput","userKey","target","attributes","value","newState","onSubmit","storeServerToken","type","required","name","onChange","placeholder","Register","createUser","setCreateUser","confirmPassword","setConfirmPassword","createServerToken","newUser","log","length","alert","createUserKey","Activities","activityList","setActivityList","useEffect","activityElems","map","activity","i","id","description","Routines","routineList","setRoutineList","routineElems","routine","creatorName","goal","activities","duration","count","App","savedToken","setIsLoggedIn","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f1505ff.chunk.js","sourcesContent":["const SECURE_TOKEN = \"FitnessToken\";\n\nexport default {\n    grabToken: function() {\n        return localStorage.getItem(SECURE_TOKEN);\n    },\n\n    saveToken: function(token) {\n        localStorage.setItem(SECURE_TOKEN, token);\n    },\n\n    deleteToken: function() {\n        localStorage.removeItem(SECURE_TOKEN);\n    }\n}","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport handleToken from '../api/token';\nimport \"../style/components.css\"\n\nconst Header = ({isLoggedIn, setSavedToken}) => {\n    let history = useHistory();\n\n    function logOut (event) {\n        event.preventDefault();\n        handleToken.deleteToken();\n        setSavedToken(null);\n        history.push('/home');\n\n    }\n    function loggedIn (event) {\n        event.preventDefault();\n        event.onClick(() => {\n            if(!isLoggedIn) {\n                const error = 'You must be logged in to view this page'\n                alert( new Error(error));\n                history.push('/login')}\n        })\n    }\n\n    return (\n            <div className=\"header\">\n                <div className=\"siteTitle\">Fitness Tracker</div>\n            {isLoggedIn ? \n                <div className=\"loggedInHeader\">\n                    <h1>Welcome Back!</h1><br/>\n                    <button className=\"linkButton\"><Link to=\"/routines\">Public Routines</Link></button>\n                    <button className=\"linkButton\"><Link to=\"/activities\">Activities</Link></button>\n                    <button className=\"Logout\" onClick={logOut}>Log Out</button>\n                </div>\n            :\n                <div className=\"loggedOutHeader\">\n                    <h1>Welcome!</h1>\n                    <button className=\"linkButton\"><Link to=\"/login\">Login</Link></button>\n                    <button className=\"linkButton\"><Link to=\"/register\">Register</Link></button>\n                    <button className=\"linkButton\"><Link to=\"/routines\">Public Routines</Link></button>\n                </div>\n            }\n            </div>\n    )\n}\n\nexport default Header;","const BASE_URL = \"https://fitnesstrac-kr.herokuapp.com/api\";\nimport handleToken from './token';\n\nexport default {\n    makeRequest: async function(path, method, data) {\n        const token = handleToken.grabToken();\n        const defaultHeaders = {\n            'Content-Type': 'application/json'\n        }\n        if (token){\n            defaultHeaders['Authorization'] = `Bearer ${token}`;\n        }\n        const options = {\n            method,\n            headers: defaultHeaders\n        }\n        if (data) {\n            options.body = JSON.stringify(data);\n        }\n        const response = await fetch(BASE_URL + path, options);\n        const responseData = await response.json();\n        return responseData;\n    }\n\n}","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../api';\nimport handleToken from '../api/token';\nimport \"../style/components.css\"\n\nconst Login = ({setSavedToken}) => {\n\n    let history = useHistory();\n    const [user, setUser] = useState({username: '', password: ''});\n\n    async function storeServerToken() {\n        try {\n            const userLogin = user;\n            const data = await api.makeRequest('/users/login', 'POST', userLogin);\n            handleToken.saveToken(data.token);\n            setSavedToken(handleToken.grabToken());\n        } catch (error) {\n            console.error(error);\n        } finally {\n            history.push('/home');\n        }\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        storeServerToken();\n    }\n\n    function handleInput(event) {\n        const userKey = event.target.attributes['name'].value;\n        const newState = {...user};\n        newState[userKey] = event.target.value;\n        setUser(newState);\n    }\n\n    return (\n        <div className=\"login\" >\n            <form onSubmit={handleSubmit}>\n                <input type=\"text\" \n                       required\n                       name=\"username\"\n                       value={user.username}\n                       onChange={handleInput}\n                       placeholder=\"username\" />\n                <input type=\"password\"\n                       required\n                       name=\"password\"\n                       value={user.password}\n                       onChange={handleInput}\n                       placeholder=\"password\"></input><br/>\n                <button>Submit</button>\n            </form>\n            <p>Don't have a login? Click here to register!</p>\n            <button className=\"linkButton\"><Link to=\"/register\">Register</Link></button>\n        </div>\n    )\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport api from '../api';\nimport handleToken from '../api/token';\nimport \"../style/components.css\"\n\nconst Register = ({setSavedToken}) => {\n\n    let history = useHistory();\n    const [createUser, setCreateUser] = useState({\"username\": '', \"password\": ''});\n    const [confirmPassword, setConfirmPassword] = useState({confirmPassword: ''})\n\n    async function createServerToken() {\n        try {\n            const user = {...createUser}\n            const newUser = user;\n            const data = await api.makeRequest('/users/register', 'POST', newUser);\n            handleToken.saveToken(data.token);\n            setSavedToken(handleToken.grabToken());\n            history.push('/home');\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    async function onSubmit(event) {\n        event.preventDefault();\n        console.log(createUser.username);\n        if (createUser.username.length < 1 || createUser.password.length < 1) {\n            alert('username/Password must not be empty');\n        }\n        else if (createUser.username.length < 5 || createUser.password.length < 5) {\n            alert('username/Password must be longer than 5 characters');\n        }\n        else if (createUser.username.length > 15 || createUser.password.length > 15) {\n            alert('username/Password must be less than 16 characters');\n        }\n        else if (createUser.password !== confirmPassword.confirmPassword) {\n            alert('Password must be the same in both fields');\n        }\n        else {\n            createServerToken();\n        }\n\n    }\n\n    function handleInput(event) {\n        if (event.target.attributes['name'].value !== 'confirmPassword') {\n            const createUserKey = event.target.attributes['name'].value;\n            const newState = {...createUser};\n            newState[createUserKey] = event.target.value;\n            setCreateUser(newState);\n        }\n        else {\n            const createUserKey = event.target.attributes['name'].value;\n            const newState = {...createUser};\n            newState[createUserKey] = event.target.value;\n            setConfirmPassword(newState);\n        }\n    }\n\n    return (\n        <div className=\"register\">\n            <form onSubmit={onSubmit}>\n                <input type=\"text\" \n                    required\n                    name=\"username\"\n                    value={createUser.username}\n                    onChange={handleInput}\n                    placeholder=\"username\" />\n                <input type=\"password\"\n                    required\n                    name=\"password\"\n                    value={createUser.password}\n                    onChange={handleInput}\n                    placeholder=\"password\"></input>\n                <input type=\"password\"\n                    required\n                    name=\"confirmPassword\"\n                    value={confirmPassword.confirmPassword}\n                    onChange={handleInput}\n                    placeholder=\"confirm password\"></input><br/>\n                <button>Submit</button>\n            </form>\n            <button className=\"linkButton\"><Link to=\"/\">Home</Link></button>\n        </div>\n    )\n}\n\nexport default Register;","import React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport \"../style/components.css\"\n\nconst Activities = ({isLoggedIn}) => {\n    const [activityList, setActivityList] = useState([]);\n\n    if (isLoggedIn) {\n        useEffect(async function () {\n            try {\n                const data = await api.makeRequest('/activities', 'GET');\n                setActivityList(data);\n            }\n            catch (error) {\n                throw error;\n            }\n        }, []);\n    }\n    const activityElems = activityList.map((activity, i) => \n        <div className=\"activities\" id={\"ACT\"+i}>\n            <p>Activity Number: {activity.id}</p>\n            <p>Activity Name: {activity.name}</p>\n            <p>Activity Description: {activity.description}</p>\n        </div>\n    )\n\n    return (\n        <div className=\"activityContainer\">\n            {activityElems}\n        </div>\n    )\n\n}\n\nexport default Activities;","import React, { useState, useEffect } from 'react';\nimport api from '../api';\nimport \"../style/components.css\"\n\nconst Routines = () => {\n\n    const [routineList, setRoutineList] = useState([]);\n\n    useEffect(async function () {\n        try {\n            const data = await api.makeRequest('/routines', 'GET');\n            setRoutineList(data);\n        }\n        catch (error) {\n            throw error;\n        }\n    }, []);\n    const routineElems = routineList.map((routine, i) => \n        <div className=\"routines\" id={\"ROUT\"+i}>\n            <p>Routine Number: {routine.id}</p>\n            <p>Routine Name: {routine.name}</p>\n            <p>Creator Name: {routine.creatorName}</p>\n            <p>Routine Description: {routine.goal}</p>\n            {\n            routine.activities.map(activity =>\n                <div className=\"routineActivities\">\n                    <p>Activity Name: {activity.name}</p>\n                    <p>Activity Description: {activity.description}</p>\n                    <p>Duration: {activity.duration} and/or Count: {activity.count}</p>\n                </div>\n                )\n            }\n        </div>\n    )\n\n    return (\n        <div className=\"routineContainer\">\n            {routineElems}\n        </div>\n    )\n}\n\nexport default Routines;","import React, { useState, useEffect }from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Switch } from 'react-router-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport handleToken from './api/token'\n\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Activities from './components/Activities';\nimport Routines from './components/Routines';\n\n\nconst App = () => {\n    const [savedToken, setSavedToken] = useState(handleToken.grabToken());\n    const [isLoggedIn, setIsLoggedIn] = useState(!!savedToken);\n\n    useEffect(function() {\n        setIsLoggedIn(!!savedToken);\n    }, [savedToken]);\n\n  return (\n  <div className='app'>\n    <main>\n      <Router>\n        <Route path=\"/\"><Header isLoggedIn={isLoggedIn} setSavedToken={setSavedToken}/></Route>\n        <Switch> \n          <Route path=\"/activities\"><Activities isLoggedIn={isLoggedIn} /></Route>\n          <Route path=\"/register\"><Register setSavedToken={setSavedToken} /></Route>\n          <Route path=\"/login\"><Login setSavedToken={setSavedToken} /></Route>\n          <Route path=\"/routines\"><Routines /></Route>\n        </Switch>\n      </Router>\n    </main>\n  </div>\n  )\n}\n\nReactDOM.render(\n    <Router><App /></Router>, \n    document.getElementById('App')\n);"],"sourceRoot":""}